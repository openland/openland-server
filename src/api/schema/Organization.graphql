type OrganizationContact {
    name: String!
    photo: String
    photoRef: ImageRef
    position: String
    email: String
    phone: String
    link: String
    twitter: String
}

type AlphaDummyFeaturedOpportunity{
    title: String!
    location: MapPoint!
    locationTitle: String!
    tags: [String!]
}

type AlphaOrganizationListingLink{
    text: String!
    url: String!
}

input AlphaOrganizationListingLinkInput{
    text: String!
    url: String!
}

type AlphaDummyPost{
    text: String!
    type: String!
    description: String
    date: String!
    image: ImageRef
    activity: [String!]
    links: [AlphaOrganizationListingLink!]
    pinned: Boolean
}

input AlphaDummyPostInput{
    text: String!
    type: String!
    description: String
    date: String!
    image: ImageRefInput
    activity: [String!]
    links: [AlphaOrganizationListingLinkInput!]
    pinned: Boolean
}


type AlphaOrganizationListing{
    id: ID!
    name: String!
    type: String!
    summary: String
    specialAttributes: [String!]
    status: String
    photo: ImageRef

    location: MapPoint
    locationTitle: String
    availability: String
    area: Int
    price: Int
    dealType: [String!]
    shapeAndForm: [String!]
    currentUse: [String!]
    goodFitFor: [String!]
    additionalLinks: [AlphaOrganizationListingLink!]

    shortDescription: String
    areaRange: Range
    geographies: [String!]
    landUse: [String!]
    unitCapacity: [String!]
    updatedAt: String!
}

type AlphaOrganizationListingEdge {
    node: AlphaOrganizationListing!
    cursor: String!
}

type AlphaOrganizationListingConnection {
    edges: [AlphaOrganizationListingEdge!]!
    pageInfo: PageInfo!
}

input AlphaOrganizationListingInput{
    name: String
    summary: String
    specialAttributes: [String!]
    status: String
    photo: ImageRefInput

    location: MapPointInput
    locationTitle: String
    availability: String
    area: Int
    price: Int
    dealType: [String!]
    shapeAndForm: [String!]
    currentUse: [String!]
    goodFitFor: [String!]
    additionalLinks: [AlphaOrganizationListingLinkInput!]

    shortDescription: String
    areaRange: RangeInput
    geographies: [String!]
    landUse: [String!]
    unitCapacity: [String!]
}

type Organization {
    id: ID!
    isMine: Boolean!
    name: String!
    photo: String
    photoRef: ImageRef

    website: String
    websiteTitle: String
    about: String
    twitter: String
    facebook: String
    linkedin: String
    contacts: [OrganizationContact!]!
    location: String
    
    alphaContacts: [Profile!]!

    alphaPublished: Boolean!
    alphaEditorial: Boolean!
    alphaFeatured: Boolean!

    alphaFollowed: Boolean!

    alphaLocations: [String!]
    alphaInterests: [String!]
    alphaOrganizationType: [String!]

    alphaDummyPosts: [AlphaDummyPost!]

    alphaPotentialSites: [Range!]
    alphaSiteSizes: [Range!]
    alphaDevelopmentModels: [String!]
    alphaAvailability: [String!]
    alphaLandUse: [String!]
    alphaGoodFor: [String!]
    alphaSpecialAttributes: [String!]
    alphaListingDevelopmentOportunities: [AlphaOrganizationListing!]
    alphaListingAcquisitionRequests: [AlphaOrganizationListing!]
    alphaListingsAll: [AlphaOrganizationListing!]
    alphaDummyFeaturedOpportunities: [AlphaDummyFeaturedOpportunity!]
    alphaLookingFor: [String!]
    alphaGeographies: [String!]

    alphaDOShapeAndForm: [String!]
    alphaDOCurrentUse: [String!]
    alphaDOGoodFitFor: [String!]
    alphaDOSpecialAttributes: [String!]
    alphaDOAvailability: [String!]

    alphaARGeographies: [String!]
    alphaARAreaRange: [String!]
    alphaARHeightLimit: [String!]
    alphaARActivityStatus: [String!]
    alphaARAquisitionBudget: [String!]
    alphaARAquisitionRate: [String!]
    alphaARClosingTime: [String!]
    alphaARSpecialAttributes: [String!]
    alphaARLandUse: [String!]

}

type OrganizationProfile {
    id: ID!
    name: String!
    photoRef: ImageRef

    website: String
    websiteTitle: String
    about: String
    twitter: String
    facebook: String
    linkedin: String
    contacts: [OrganizationContact!]!
    location: String

    alphaPublished: Boolean!
    alphaEditorial: Boolean!
    alphaFeatured: Boolean!

    alphaLocations: [String!]
    alphaInterests: [String!]
    alphaOrganizationType: [String!]

    alphaDummyPosts: [AlphaDummyPost!]

    alphaPotentialSites: [Range!]
    alphaSiteSizes: [Range!]
    alphaDevelopmentModels: [String!]
    alphaAvailability: [String!]
    alphaLandUse: [String!]
    alphaGoodFor: [String!]
    alphaSpecialAttributes: [String!]
    alphaListingDevelopmentOportunities: [AlphaOrganizationListing!]
    alphaListingAcquisitionRequests: [AlphaOrganizationListing!]
    alphaListingsAll: [AlphaOrganizationListing!]
    alphaDummyFeaturedOpportunities: [AlphaDummyFeaturedOpportunity!]
    alphaLookingFor: [String!]
    alphaGeographies: [String!]

    alphaDOShapeAndForm: [String!]
    alphaDOCurrentUse: [String!]
    alphaDOGoodFitFor: [String!]
    alphaDOSpecialAttributes: [String!]
    alphaDOAvailability: [String!]

    alphaARGeographies: [String!]
    alphaARAreaRange: [String!]
    alphaARHeightLimit: [String!]
    alphaARActivityStatus: [String!]
    alphaARAquisitionBudget: [String!]
    alphaARAquisitionRate: [String!]
    alphaARClosingTime: [String!]
    alphaARSpecialAttributes: [String!]
    alphaARLandUse: [String!]

}

input ContactPersonInput {
    name: String!
    photoRef: ImageRefInput
    position: String
    email: String
    phone: String
    link: String
    twitter: String
}

input CreateOrganizationInput {
    name: String!
    website: String
    personal: Boolean!
    photoRef: ImageRefInput
}

input UpdateOrganizationProfileInput {
    name: String
    photoRef: ImageRefInput

    website: String
    websiteTitle: String
    about: String
    twitter: String
    facebook: String
    linkedin: String
    location: String
    contacts: [ContactPersonInput!]

    alphaPublished: Boolean
    alphaEditorial: Boolean
    alphaFeatured: Boolean

    alphaLocations: [String!]
    alphaInterests: [String!]
    alphaOrganizationType: [String!]
    
    alphaDummyPosts: [AlphaDummyPostInput!]

    alphaPotentialSites: [RangeInput]
    alphaSiteSizes: [RangeInput]
    alphaDevelopmentModels: [String]
    alphaAvailability: [String]
    alphaLandUse: [String]
    alphaGoodFor: [String]
    alphaSpecialAttributes: [String]
    alphaOrganizationType: [String!]
    alphaLookingFor: [String!]
    alphaGeographies: [String!]

    alphaDOShapeAndForm: [String!]
    alphaDOCurrentUse: [String!]
    alphaDOGoodFitFor: [String!]
    alphaDOSpecialAttributes: [String!]
    alphaDOAvailability: [String!]

    alphaARGeographies: [String!]
    alphaARAreaRange: [String!]
    alphaARHeightLimit: [String!]
    alphaARActivityStatus: [String!]
    alphaARAquisitionBudget: [String!]
    alphaARAquisitionRate: [String!]
    alphaARClosingTime: [String!]
    alphaARSpecialAttributes: [String!]
    alphaARLandUse: [String!]
}

interface OrganizationMember {
    email: String!
    role: OrganizationMemberRole!
}

type OrganizationIvitedMember implements OrganizationMember{
    email: String!
    role: OrganizationMemberRole!
    firstName: String
    lastName: String
    inviteId: ID!
}

type OrganizationJoinedMember implements OrganizationMember{
    email: String!
    role: OrganizationMemberRole!
    user: User!
    joinedAt: String
    showInContacts: Boolean!
}

enum OrganizationMemberRole {
    OWNER,
    MEMBER
}

type OrganizationsEdge {
    node: Organization!
    cursor: String!
}

type OrganizationsConnection {
    edges: [OrganizationsEdge!]!
    pageInfo: PageInfo!
}

extend type Query {
    myOrganization: Organization
    myOrganizationProfile: OrganizationProfile!
    myOrganizations: [Organization!]!
    organization(id: ID!): Organization!
    organizationProfile(id: ID!): OrganizationProfile!
    alphaOrganizationListings(
        orgId: ID!,
        query: String,
        first: Int!,
        after: String,
        page: Int
    ): AlphaOrganizationListingConnection
    alphaOrganizationMembers(orgId: ID!): [OrganizationMember!]!
    alphaOrganizations(
        query: String,
        sort: String,
        first: Int!,
        after: String,
        page: Int
    ): OrganizationsConnection!
    alphaAlterMemberAsContact(orgId: ID!, memberId: ID!, showInContacts: Boolean!): String
    alphaOrganizationPublicInvite: Invite
    alphaOrganizationPublicInviteForOrganizations: Invite
}

input InviteRequest{
    email: String!,
    emailText: String, 
    role: OrganizationMemberRole!, 
    firstName: String,
    lastName: String
}

input InviteRequestOrganization{
    email: String!,
    emailText: String, 
    firstName: String,
    lastName: String
}

extend type Mutation {
    updateOrganizationProfile(input: UpdateOrganizationProfileInput!, id: ID): OrganizationProfile!
    createOrganization(input: CreateOrganizationInput): OrganizationProfile!
    alphaFollowOrganization(id: ID!, follow: Boolean!): Organization!
    alphaOrganizationCreateListing(type: String!, input: AlphaOrganizationListingInput!): AlphaOrganizationListing!
    alphaOrganizationEditListing(id: ID!, input: AlphaOrganizationListingInput!): AlphaOrganizationListing!
    alphaOrganizationDeleteListing(id: ID!): String!
    alphaOrganizationRemoveMember(memberId: ID!): String!
    alphaOrganizationChangeMemberRole(memberId: ID!, newRole: OrganizationMemberRole!): String!

    alphaOrganizationInviteMembers(inviteRequests: [InviteRequest!]!): String!
    alphaOrganizationCreatePublicInvite(expirationDays: Int): Invite!
    alphaOrganizationDeletePublicInvite: String!

    alphaOrganizationInviteOrganization(inviteRequests: [InviteRequestOrganization!]!): String!
    alphaOrganizationActivateByInvite(key: String!): String!
    alphaOrganizationCreatePublicInviteForOrganizations(expirationDays: Int): Invite!
    alphaOrganizationDeletePublicInviteForOrganizations: String!
    alphaAlterPublished(id: ID!, published: Boolean!): Organization!
}