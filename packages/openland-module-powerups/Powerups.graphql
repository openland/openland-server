input PowerupInput {
    name: String
    description: String
    image: ImageRefInput
}

type Powerup {
    id: ID!
    name: String!
    description: String!
    image: ImageRef
    imagePreview: String
    imageInfo: FileMetadata
}

input PowerupUserSettingsInput {
    enabled: Boolean!
}

type PowerupUserSettings {
    enabled: Boolean!
}

type RoomPowerup {
    powerup: Powerup!
    userSettings: PowerupUserSettings!
}

extend type Mutation {
    createPowerup(input: PowerupInput!): Powerup!
    updatePowerup(id: ID!, input: PowerupInput!): Powerup!

    addPowerupToChat(id: ID!, powerupId: ID!): Boolean!
    removePowerupFromChat(id: ID!, powerupId: ID!): Boolean!
    updatePowerupUserSettingsInChat(id: ID!, powerupId: ID!, settings: PowerupUserSettingsInput!): PowerupUserSettings!
}

extend type Query {
    powerups: [Powerup!]!
    chatsWithPowerup(id: ID!): [Room!]!
    chatPowerups(id: ID!): [RoomPowerup!]!
}