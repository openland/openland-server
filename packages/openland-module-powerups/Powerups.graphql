enum PowerupPermission {
    LOCATION
}

input PowerupInput {
    name: String
    description: String
    permissions: [PowerupPermission!]
    image: ImageRefInput
}

type Powerup {
    id: ID!
    name: String!
    description: String!
    permissions: [PowerupPermission!]!
    image: ImageRef
    imagePreview: String
    imageInfo: FileMetadata
}

input PowerupUserSettingsInput {
    enabled: Boolean!
}

type PowerupUserSettings {
    enabled: Boolean!
}

type RoomPowerup {
    powerup: Powerup!
    userSettings: PowerupUserSettings!
}

extend type SharedRoom {
    powerups: [RoomPowerup!]!
}

extend type PrivateRoom {
    powerups: [RoomPowerup!]!
}

extend type Mutation {
    createPowerup(input: PowerupInput!): Powerup!
    updatePowerup(id: ID!, input: PowerupInput!): Powerup!

    addPowerupToChat(id: ID!, powerupId: ID!): Boolean!
    removePowerupFromChat(id: ID!, powerupId: ID!): Boolean!
    updatePowerupUserSettingsInChat(id: ID!, powerupId: ID!, settings: PowerupUserSettingsInput!): PowerupUserSettings!
}

extend type Query {
    powerups: [Powerup!]!
    chatsWithPowerup(id: ID!): [Room!]!
}